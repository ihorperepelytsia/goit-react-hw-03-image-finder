{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","utils/overrideLoader.js","service/fetchImagesAPI.js","utils/warningInput.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","utils/mapperImages.js","components/Button/Button.jsx","utils/scroll.js","components/App/App.jsx","index.js"],"names":["module","exports","overrideLoader","css","btnLoader","KEY_ID","fetchImages","query","page","axios","get","warningInput","data","length","error","text","Searchbar","state","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","props","onSubmit","this","className","Searchbarr","SearchForm","type","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","largeImageURL","webformatURL","tags","onOpenModal","ImageGaleryItem","src","alt","ImageGalleryItemImage","onClick","data-source","ImageGallery","images","ImagesGallery","map","img","key","id","Modal","backdropRef","createRef","handleKeyPress","code","onCloseModal","handleBackdropClick","current","window","addEventListener","removeEventListener","Overlay","ref","Modall","mapperImages","Button","isLoading","height","width","color","btn","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","App","isModalOpen","fetchImagesAPI","then","hits","catch","finally","handleLoadMore","prevState","openModal","dataset","source","closeModal","box","size","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1ab3dfcb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3AIjF\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__60XK-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ln64V\",\"Modal\":\"Modal_Modal__2zgSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3SAy6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImagesGallery\":\"ImageGallery_ImagesGallery__x-_pI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__1fa38\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3ipNL\",\"SearchForm\":\"Searchbar_SearchForm__2hUjV\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__3HGbh\",\"SearchFormBtnLabel\":\"Searchbar_SearchFormBtnLabel__3GTXK\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2SLM1\"};","import { css } from '@emotion/core';\r\n\r\nexport const overrideLoader = css`\r\n  display: block;\r\n  margin: 100px auto;\r\n`;\r\n\r\nexport const btnLoader = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n`;\r\n","import axios from 'axios';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY_ID = '&key=15725312-965e6abfe89225a1afd144b44';\r\n\r\nexport const fetchImages = (query = '', page = 1) =>\r\n  axios.get(\r\n    `${BASE_URL}?q=${query}&page=${page}${KEY_ID}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n","import { error } from '@pnotify/core';\r\nimport '@pnotify/core/BrightTheme.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\n\r\nconst warningInput = data => {\r\n  if (data.length === 0) {\r\n    error({\r\n      text: 'No results were found for your request.',\r\n    });\r\n  }\r\n};\r\n\r\nexport default warningInput;\r\n","import React, { Component } from 'react';\r\nimport { error } from '@pnotify/core';\r\nimport '@pnotify/core/BrightTheme.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport {\r\n  Searchbar as Searchbarr,\r\n  SearchForm,\r\n  SearchFormBtn,\r\n  SearchFormBtnLabel,\r\n  SearchFormInput,\r\n} from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleChange = ({ target: { name, value } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.length <= 1) {\r\n      error({\r\n        text: 'Enter more information',\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={Searchbarr}>\r\n        <form className={SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={SearchFormBtn}>\r\n            <span className={SearchFormBtnLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            name=\"query\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {\r\n  ImageGaleryItem,\r\n  ImageGalleryItemImage,\r\n} from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  largeImageURL,\r\n  webformatURL,\r\n  tags,\r\n  onOpenModal,\r\n}) => (\r\n  <>\r\n    <li className={ImageGaleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={ImageGalleryItemImage}\r\n        onClick={onOpenModal}\r\n        data-source={largeImageURL}\r\n      />\r\n    </li>\r\n  </>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport { ImagesGallery } from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onOpenModal }) => (\r\n  <>\r\n    <ul className={ImagesGallery}>\r\n      {images.map(img => (\r\n        <ImageGalleryItem key={img.id} {...img} onOpenModal={onOpenModal} />\r\n      ))}\r\n    </ul>\r\n  </>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  onOpenModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({ id: PropTypes.number.isRequired }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component, createRef } from 'react';\r\nimport { Overlay, Modall } from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    const { current } = this.backdropRef;\r\n\r\n    if (current && e.target !== current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onCloseModal();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, tags } = this.props;\r\n    return (\r\n      <>\r\n        <div\r\n          className={Overlay}\r\n          ref={this.backdropRef}\r\n          onClick={this.handleBackdropClick}\r\n        >\r\n          <div className={Modall}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","const mapperImages = images => {\r\n  return images.map(({ id, webformatURL, largeImageURL, tags }) => ({\r\n    id,\r\n    webformatURL,\r\n    largeImageURL,\r\n    tags,\r\n  }));\r\n};\r\n\r\nexport default mapperImages;\r\n","import React from 'react';\r\nimport { btn } from './Button.module.css';\r\nimport BarLoader from 'react-spinners/BarLoader';\r\nimport { btnLoader } from '../../utils/overrideLoader';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick, isLoading }) => {\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <BarLoader\r\n          css={btnLoader}\r\n          height={'6px'}\r\n          width={'180px'}\r\n          color={'#3f51b5'}\r\n        />\r\n      ) : (\r\n        <button className={btn} type=\"submit\" onClick={onClick}>\r\n          Load more...\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n// const Button = ({ onClick, isLoading }) => {\r\n//   return (\r\n//     <div>\r\n//       <button className={btn} type=\"submit\" onClick={onClick}>\r\n//         {isLoading ? (\r\n//           <MoonLoader css={btnLoader} size={18} color={'#fff'} />\r\n//         ) : (\r\n//           'Load more...'\r\n//         )}\r\n//       </button>\r\n//     </div>\r\n//   );\r\n// };\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","const scroll = () => {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n  });\r\n};\r\n\r\nexport default scroll;\r\n","import React, { Component } from 'react';\r\nimport { App as box } from './App.module.css';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\nimport { overrideLoader } from '../../utils/overrideLoader';\r\nimport { fetchImages } from '../../service/fetchImagesAPI';\r\nimport warningInput from '../../utils/warningInput';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Modal from '../Modal/Modal';\r\nimport mapperImages from '../../utils/mapperImages';\r\nimport Button from '../Button/Button';\r\nimport scroll from '../../utils/scroll';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    largeImageURL: '',\r\n    tags: '',\r\n    isLoading: false,\r\n    isModalOpen: false,\r\n    error: null,\r\n  };\r\n\r\n  fetchImagesAPI = query => {\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchImages(query)\r\n      .then(({ data }) => {\r\n        this.setState({\r\n          images: mapperImages(data.hits),\r\n          query,\r\n        });\r\n        warningInput(data.hits);\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  handleLoadMore = e => {\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchImages(this.state.query, this.state.page + 1)\r\n      .then(({ data }) => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...mapperImages(data.hits)],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => {\r\n        scroll();\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  openModal = ({ target: { alt, dataset } }) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      largeImageURL: dataset.source,\r\n      tags: alt,\r\n    });\r\n  };\r\n\r\n  closeModal = () => this.setState({ isModalOpen: false, largeImageURL: '' });\r\n\r\n  render() {\r\n    const { images, isLoading, isModalOpen, largeImageURL, tags } = this.state;\r\n\r\n    return (\r\n      <div className={box}>\r\n        <Searchbar onSubmit={this.fetchImagesAPI} />\r\n\r\n        {isLoading && (\r\n          <MoonLoader css={overrideLoader} size={100} color={'#000'} />\r\n        )}\r\n\r\n        {!!images.length && (\r\n          <>\r\n            <ImageGallery images={images} onOpenModal={this.openModal} />\r\n            <Button onClick={this.handleLoadMore} isLoading={isLoading} />\r\n          </>\r\n        )}\r\n\r\n        {isModalOpen && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            tags={tags}\r\n            onCloseModal={this.closeModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}